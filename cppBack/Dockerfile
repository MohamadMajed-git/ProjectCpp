# 1. نختار نظام التشغيل (بيئة العمل)
FROM ubuntu:latest

# 2. تحديث النظام وتثبيت مترجم C++ (G++)
# إذا كنت تستخدم مكتبات إضافية، أضف أسماءها هنا
RUN apt-get update && apt-get install -y \
    g++ \
    build-essential

# 3. إنشاء مجلد داخل السيرفر لوضع كودك فيه
WORKDIR /app

# 4. نسخ ملفات مشروعك من جهازك إلى السيرفر
COPY . .

# 5. أمر تجميع الكود (Compilation)
# غير كلمة main.cpp إلى اسم ملفك الرئيسي
# my_server هو اسم البرنامج الذي سينتج
RUN g++ -o my_server main.cpp

# 6. فتح المنفذ (Port)
# ريندر غالباً يستخدم بورت 10000 افتراضياً، لكن هذا السطر توضيح
EXPOSE 10000

# 7. أمر تشغيل السيرفر عند بدء الموقع
CMD ["./my_server"]